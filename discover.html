<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Découvrir - VectorLab</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#FFFCF8;--text:#2D2D2D;--text-light:#666;--accent:#FFD8BE;--accent-hover:#FF9D87}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text)}
header{position:sticky;top:0;background:var(--bg);padding:18px 6%;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #ffe8db;z-index:1000}
header.scrolled{box-shadow:0 6px 24px rgba(0,0,0,.06);background:#fff}
.logo{font-weight:700;font-size:34px}
nav a{margin-left:30px;text-decoration:none;color:var(--text);font-weight:500;position:relative}
nav a::after{content:"";position:absolute;left:0;bottom:-6px;height:2px;width:0;background:var(--accent-hover);transition:width .25s}
nav a:hover::after{width:100%}

/* new: account / language container */
.header-actions{display:flex;align-items:center;gap:12px;position:relative;right:0}
.auth-btn{padding:8px 16px;border-radius:30px;font-weight:600;cursor:pointer;transition:all .2s}
/* new: login button style */
#loginBtn2{background:var(--accent);color:var(--accent-hover);border:2px solid var(--accent-hover)}
#loginBtn2:hover{background:#ffc7a8}
/* new: sign in button style */
#signInBtn2, #profileBtn2{background:var(--accent-hover);color:var(--accent);border:2px solid var(--accent-hover)}
#signInBtn2:hover, #profileBtn2:hover{background:#ff8c6e}

/* language switcher (position adjusted to be part of header-actions) */
.lang-switch{position:relative;right:0;top:0;z-index:2000}
.lang-circles{position:relative;width:44px;height:44px;cursor:pointer}
.lang-circles img{width:44px;height:44px;border-radius:50%;position:absolute;border:2px solid #fff;box-shadow:0 6px 18px rgba(0,0,0,.12);transition:all .45s}
.flag-en{left:0;top:0;z-index:1}
.flag-fr{left:12px;top:0;z-index:2}
.flag-de{left:24px;top:0;z-index:3}
.lang-circles.open .flag-en{left:-70px;transform:translateY(-6px)}
.lang-circles.open .flag-fr{left:0;transform:translateY(-2px)}
.lang-circles.open .flag-de{left:70px;transform:translateY(-6px)}
.lang-dropdown{display:none;background:#fff;border-radius:12px;padding:8px;margin-top:8px;box-shadow:0 12px 30px rgba(0,0,0,.08);text-align:left;position:absolute;right:0}
.lang-dropdown.show{display:block}
.lang-dropdown div{padding:8px 14px;border-radius:8px;cursor:pointer;transition:background .18s}
.lang-dropdown div:hover{background:var(--accent)}

/* content */
#filters{max-width:1200px;margin:36px auto;padding:0 6%}
#products{max-width:1200px;margin:0 auto 80px;padding:0 6%;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:32px}
.product-card{background:#fff;border-radius:18px;box-shadow:0 14px 40px rgba(0,0,0,.04);overflow:hidden;border:1px solid #ffe8db;transition:transform .35s,box-shadow .35s;opacity:0;transform:translateY(18px)}
.product-card.visible{opacity:1;transform:none}
.product-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 28px 68px rgba(255,157,135,.12)}
.product-card img{width:100%;height:220px;object-fit:cover}
.product-info{padding:22px;text-align:center}
.add-to-cart{background:var(--accent);border:none;padding:14px;border-radius:12px;width:100%;font-weight:600;cursor:pointer}
footer{text-align:center;padding:64px 20px;color:var(--text-light);border-top:1px solid #ffe8db}
</style>
</head>
<body>
<header id="mainHeader">
  <div style="display:flex;align-items:center;gap:18px">
    <div class="logo">VectorLab</div>
    <nav>
      <a href="index.html" data-i18n="nav_home">Accueil</a>
      <a href="discover.html" data-i18n="nav_discover">Découvrir</a>
      <a href="about.html" data-i18n="nav_about">À propos</a>
      <a href="contact.html" data-i18n="nav_contact">Contact</a>
    </nav>
  </div>

  <div class="header-actions">
    <button id="loginBtn2" class="auth-btn" data-i18n="auth_login">Se connecter</button>
    <button id="signInBtn2" class="auth-btn" data-i18n="auth_signin">S'inscrire</button>

    <button id="profileBtn2" class="auth-btn" style="display:none;" data-i18n="auth_profile">Mon Profil</button>

    <div class="lang-switch">
      <div class="lang-circles" id="langBtn2">
        <img src="https://flagcdn.com/48x36/gb.png" class="flag-en" alt="EN">
        <img src="https://flagcdn.com/48x36/fr.png" class="flag-fr" alt="FR">
        <img src="https://flagcdn.com/48x36/de.png" class="flag-de" alt="DE">
      </div>
      <div class="lang-dropdown" id="langDropdown2">
        <div data-lang="en">English</div>
        <div data-lang="fr">Français</div>
        <div data-lang="de">Deutsch</div>
      </div>
    </div>
  </div>
</header>

<main>
  <section id="filters">
    <label for="sort" data-i18n="sort_label">Trier par :</label>
    <select id="sort" onchange="sortAndShow()">
      <option value="default" data-i18n="sort_default">Par défaut</option>
      <option value="reviews" data-i18n="sort_reviews">Nombre d'avis (décroissant)</option>
      <option value="rating" data-i18n="sort_rating">Meilleures notes</option>
      <option value="sales" data-i18n="sort_sales">Plus grand nombre d'achats</option>
    </select>
  </section>

  <section id="products"></section>
</main>

<footer>
  <div class="links">
    <a href="index.html" data-i18n="nav_home">Accueil</a> |
    <a href="about.html" data-i18n="nav_about">À propos</a> |
    <a href="faq.html" data-i18n="nav_faq">FAQ</a> |
    <a href="contact.html" data-i18n="nav_contact">Contact</a>
  </div>
  <p data-i18n="footer_text">© 2025 VectorLab — Fait avec passion en France</p>
</footer>

<script>
/* same translation structure as index but focused on discover page keys */
const translations = {
  en:{
    nav_home:"Home", nav_discover:"Discover", nav_about:"About", nav_contact:"Contact", nav_faq:"FAQ",
    sort_label:"Sort by:", sort_default:"Default", sort_reviews:"Reviews (desc)", sort_rating:"Top rating", sort_sales:"Best sellers",
    footer_text:"© 2025 VectorLab — Premium & custom 3D printing",
    // New translations for account
    auth_login:"Log In", auth_signin:"Sign Up", auth_profile:"My Profile"
  },
  fr:{
    nav_home:"Accueil", nav_discover:"Découvrir", nav_about:"À propos", nav_contact:"Contact", nav_faq:"FAQ",
    sort_label:"Trier par :", sort_default:"Par défaut", sort_reviews:"Nombre d'avis (décroissant)", sort_rating:"Meilleures notes", sort_sales:"Plus grand nombre d'achats",
    footer_text:"© 2025 VectorLab — Fait avec passion en France",
    // New translations for account
    auth_login:"Se connecter", auth_signin:"S'inscrire", auth_profile:"Mon Profil"
  },
  de:{
    nav_home:"Startseite", nav_discover:"Entdecken", nav_about:"Über uns", nav_contact:"Kontakt", nav_faq:"FAQ",
    sort_label:"Sortieren nach:", sort_default:"Standard", sort_reviews:"Bewertungen (absteigend)", sort_rating:"Beste Bewertungen", sort_sales:"Bestseller",
    footer_text:"© 2025 VectorLab — Premium & maßgeschneiderter 3D-Druck",
    // New translations for account
    auth_login:"Anmelden", auth_signin:"Registrieren", auth_profile:"Mein Profil"
  }
};

function applyTranslations(lang){
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.dataset.i18n;
    if(!key) return;
    el.innerHTML = (translations[lang] && translations[lang][key]) || translations['en'][key];
  });
}

function setLang(lang){
  localStorage.setItem('lang', lang);
  applyTranslations(lang);
}

/* --- Authentication Logic (Simulated) --- */
const loginBtn = document.getElementById('loginBtn2');
const signInBtn = document.getElementById('signInBtn2');
const profileBtn = document.getElementById('profileBtn2');

// Function to update button visibility
function updateAuthButtons(isLoggedIn) {
  loginBtn.style.display = isLoggedIn ? 'none' : 'block';
  signInBtn.style.display = isLoggedIn ? 'none' : 'block';
  profileBtn.style.display = isLoggedIn ? 'block' : 'none';
}

// Simulated Login/Sign In (for demonstration)
loginBtn.addEventListener('click', () => {
  localStorage.setItem('isLoggedIn', 'true');
  updateAuthButtons(true);
  alert('Connexion réussie ! (Simulée)');
});

signInBtn.addEventListener('click', () => {
  alert('Redirection vers la page d\'inscription... (Simulée)');
});

profileBtn.addEventListener('click', () => {
  alert('Affichage du profil... (Simulé)');
});

// Check initial state on load
if (localStorage.getItem('isLoggedIn') === 'true') {
  updateAuthButtons(true);
} else {
  updateAuthButtons(false);
}

/* language switch for this page (separate ids) */
const langBtn = document.getElementById('langBtn2');
const dropdown = document.getElementById('langDropdown2');
langBtn.addEventListener('click', ()=>{ langBtn.classList.toggle('open'); dropdown.classList.toggle('show'); });

dropdown.querySelectorAll('div').forEach(el=>el.addEventListener('click', ()=>{
  const l = el.dataset.lang; setLang(l); dropdown.classList.remove('show'); langBtn.classList.remove('open');
}));

async function autoDetectLang(){
  try{
    const res = await fetch('https://ipapi.co/json/');
    const data = await res.json();
    const country = (data.country_code||'').toUpperCase();
    let lang='en';
    if(country==='FR') lang='fr';
    else if(country==='DE' || country==='CH') lang='de';
    setLang(localStorage.getItem('lang') || lang);
  }catch(e){ setLang(localStorage.getItem('lang') || 'en'); }
}
const saved = localStorage.getItem('lang');
if(saved) setLang(saved); else autoDetectLang();

/* products data (same as before) */
const products = [
  {name:"Sous-verre Hexagone", rating:4.9, reviews:42, price:"6,90€", img:"https://via.placeholder.com/500x400/FFF8F3/FFD8BE?text=Sous-verre+Hexa", sales:120},
  {name:"Pot à fleurs minimaliste", rating:4.8, reviews:28, price:"14,90€", img:"https://via.placeholder.com/500x400/FFF8F3/FFD8BE?text=Pot+Minimal", sales:85},
  {name:"Support téléphone élégant", rating:5.0, reviews:19, price:"12,90€", img:"https://via.placeholder.com/500x400/FFF8F3/FFD8BE?text=Support+Téléphone", sales:150},
  {name:"Vase géométrique", rating:4.7, reviews:35, price:"24,90€", img:"https://via.placeholder.com/500x400/FFF8F3/FFD8BE?text=Vase+Géo", sales:60},
  {name:"Porte-clés personnalisé", rating:4.9, reviews:67, price:"4,90€", img:"https://via.placeholder.com/500x400/FFF8F3/FFD8BE?text=Porte-clés", sales:200},
  {name:"Lampe design", rating:5.0, reviews:12, price:"39,90€", img:"https://via.placeholder.com/500x400/FFF8F3/FFD8BE?text=Lampe+3D", sales:45}
];

function sortAndShow(){
  const sel = document.getElementById('sort').value;
  let items = [...products];
  if(sel!=='default'){
    items.sort((a,b)=>{
      if(sel==='reviews') return b.reviews - a.reviews;
      if(sel==='rating') return b.rating - a.rating;
      if(sel==='sales') return b.sales - a.sales;
    });
  }
  const container = document.getElementById('products');
  container.innerHTML='';
  items.forEach((p, i)=>{
    const card = document.createElement('div');
    card.className = 'product-card';
    card.innerHTML = `
      <img src="${p.img}" alt="${p.name}">
      <div class="product-info">
        <h3 class="product-name">${p.name}</h3>
        <div class="rating">${'★'.repeat(Math.floor(p.rating))}${'☆'.repeat(5-Math.floor(p.rating))} (${p.reviews})</div>
        <div class="price">${p.price}</div>
        <button class="add-to-cart">Ajouter au panier</button>
      </div>`;
    container.appendChild(card);
    setTimeout(()=>card.classList.add('visible'), 80 * i);
  });
}
sortAndShow();
</script>
</body>
</html>