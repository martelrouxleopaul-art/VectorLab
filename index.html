<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VectorLab - Impression 3D Premium</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#FFFCF8; --card:#FFF8F3; --text:#2D2D2D; --text-light:#666666;
  --accent:#FFD8BE; --accent-hover:#FF9D87;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}

/* header */
header{position:sticky;top:0;z-index:1000;background:var(--bg);padding:18px 6%;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #ffe8db;transition:box-shadow .25s,background .25s}
header.scrolled{box-shadow:0 6px 24px rgba(0,0,0,.06);background:#fff}
.logo{font-weight:700;font-size:34px;letter-spacing:-1px}
nav a{margin-left:30px;text-decoration:none;color:var(--text);font-weight:500;position:relative}
nav a::after{content:"";position:absolute;left:0;bottom:-6px;height:2px;width:0;background:var(--accent-hover);transition:width .25s}
nav a:hover::after{width:100%}

/* new: account / language container */
.header-actions{display:flex;align-items:center;gap:20px; /* Increased gap */ position:relative;right:0}
.auth-btn{padding:8px 16px;border-radius:30px;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}
/* new: login button style */
#loginBtn{background:var(--accent);color:var(--accent-hover);border:2px solid var(--accent-hover)}
#loginBtn:hover{background:#ffc7a8}
/* new: sign in button style */
#signInBtn, #profileBtn{background:var(--accent-hover);color:var(--accent);border:2px solid var(--accent-hover)}
#signInBtn:hover, #profileBtn:hover{background:#ff8c6e}

/* language switch (position adjusted to be part of header-actions) */
.lang-switch{position:relative;right:0;top:0;z-index:3000; /* Increased z-index for fix */}
.lang-circles{position:relative;width:44px;height:44px;cursor:pointer}
.lang-circles img{width:44px;height:44px;border-radius:50%;position:absolute;border:2px solid #fff;box-shadow:0 6px 18px rgba(0,0,0,.12);transition:all .45s cubic-bezier(.2,.9,.2,1)}
.flag-en{left:0;top:0;z-index:1}
.flag-fr{left:12px;top:0;z-index:2}
.flag-de{left:24px;top:0;z-index:3}
.lang-circles.open .flag-en{left:-50px; /* Reduced from -70px for fix */ transform:translateY(-6px)}
.lang-circles.open .flag-fr{left:0;transform:translateY(-2px)}
.lang-circles.open .flag-de{left:50px; /* Reduced from 70px for fix */ transform:translateY(-6px)}
.lang-dropdown{display:none;background:#fff;border-radius:12px;padding:8px;margin-top:8px;box-shadow:0 12px 30px rgba(0,0,0,.08);text-align:left;position:absolute;right:-80px} /* CORRECTION APPLIQUÉE */
.lang-dropdown.show{display:block}
.lang-dropdown div{padding:8px 14px;border-radius:8px;cursor:pointer;transition:background .18s}
.lang-dropdown div:hover{background:var(--accent)}
/* small screens */
@media (max-width:640px){
  nav a{display:none}
  .lang-switch{right:0}
  .header-actions{gap:8px}
  .auth-btn{padding:6px 12px;font-size:14px}
}

/* hero */
.hero{position:relative;text-align:center;padding:120px 20px 90px;background:linear-gradient(135deg,#fff8f3 0%,#fff2eb 100%);overflow:hidden}
.hero h1{font-size:48px;line-height:1.02;margin-bottom:18px;z-index:2;position:relative}
.hero p{max-width:720px;margin:0 auto 28px;color:var(--text-light);z-index:2;position:relative}
.cta{background:var(--accent-hover);color:#fff;padding:16px 44px;border-radius:42px;border:none;font-weight:700;cursor:pointer;box-shadow:0 18px 44px rgba(255,141,110,.18);transition:transform .25s,background .25s;z-index:2;position:relative}
.cta:hover{transform:translateY(-6px);background:#ff8c6e}

/* narrow dark wave (fine + fade in/out) */
.hero::before{
  content:"";
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  height:100px;
  background:linear-gradient(to top,var(--bg) 0%,rgba(255,255,255,0) 100%);
  z-index:1;
}

/* presentation section */
.presentation{max-width:1200px;margin:100px auto;padding:0 6%;display:flex;align-items:center;gap:60px}
.presentation img{width:50%;max-width:680px;border-radius:24px;box-shadow:0 20px 50px rgba(0,0,0,.08);opacity:0;transform:translateX(-50px);transition:opacity 1s,transform 1s}
.presentation.active img{opacity:1;transform:translateX(0)}
.presentation .text{width:50%}
.presentation h2{font-size:36px;margin-bottom:16px}
.presentation p{color:var(--text-light);margin-bottom:24px}
.presentation .cta{padding:12px 30px;font-size:16px;box-shadow:0 12px 30px rgba(255,141,110,.1)}

/* carousel */
.carousel-container{background:var(--card);padding:40px 0;margin:100px 0;overflow:hidden;position:relative}
.carousel-track{display:flex;width:calc(100% * 2);animation:scroll 40s linear infinite}
.carousel-item{flex:0 0 25%;max-width:25%;padding:0 40px;text-align:center}
.carousel-item h3{font-size:24px;color:var(--accent-hover);margin-bottom:8px}
.carousel-item p{color:var(--text-light);font-size:16px}
@keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

/* footer */
footer{text-align:center;padding:30px 6%;color:var(--text-light);border-top:1px solid #ffe8db;margin-top:60px}
</style>
</head>
<body>
<header id="mainHeader">
  <div class="logo">VectorLab</div>
  <nav>
    <a href="index.html" data-i18n="nav_home">Accueil</a>
    <a href="discover.html" data-i18n="nav_discover">Découvrir</a>
    <a href="about.html" data-i18n="nav_about">À propos</a>
    <a href="contact.html" data-i18n="nav_contact">Contact</a>
    <a href="faq.html" data-i18n="nav_faq">FAQ</a>
  </nav>

  <div class="header-actions">
    <div id="loginBtn" class="auth-btn" data-i18n="auth_login">Se connecter</div>
    <div id="signInBtn" class="auth-btn" data-i18n="auth_signin">S'inscrire</div>
    <div id="profileBtn" class="auth-btn" style="display:none;" data-i18n="auth_profile">Mon Profil</div>

    <div class="lang-switch">
      <div class="lang-circles" id="langBtn">
        <img src="https://flagcdn.com/40x30/gb.png" alt="English" class="flag-en">
        <img src="https://flagcdn.com/40x30/fr.png" alt="Français" class="flag-fr">
        <img src="https://flagcdn.com/40x30/de.png" alt="Deutsch" class="flag-de">
      </div>
      <div class="lang-dropdown" id="langDropdown" role="menu" aria-hidden="true">
        <div data-lang="en">English</div>
        <div data-lang="fr">Français</div>
        <div data-lang="de">Deutsch</div>
      </div>
    </div>
  </div>
</header>
<main>
  <section class="hero">
    <h1 data-i18n="hero_title">Impression 3D<br>sur mesure & premium</h1>
    <p data-i18n="hero_sub">Objets uniques, fabriqués avec soin en France.</p>
    <button class="cta" data-i18n="discover_btn">Découvrir la collection</button>
  </section>

  <section class="presentation" id="presentation">
    <img src="https://via.placeholder.com/680x420/FFF8F3/FFD8BE?text=Atelier+VectorLab" alt="">
    <div class="text">
      <h2 data-i18n="presentation_title">Notre savoir-faire</h2>
      <p data-i18n="presentation_text">Chez VectorLab, chaque création est imprimée avec précision et finie à la main. Nous allions design, durabilité et personnalisation pour donner vie à vos idées en 3D.</p>
      <a href="about.html"><button class="cta" data-i18n="presentation_btn">En savoir plus</button></a>
    </div>
  </section>

  <div class="carousel-container" aria-hidden="false">
    <div class="carousel-track">
      <div class="carousel-item"><h3 data-i18n="promo1_title">Promo -25%</h3><p data-i18n="promo1_text">sur toute la collection sous-verres jusqu’au 30 novembre</p></div>
      <div class="carousel-item"><h3 data-i18n="promo2_title">Nouveauté</h3><p data-i18n="promo2_text">Pots à fleurs en PLA recyclé & teintes naturelles</p></div>
      <div class="carousel-item"><h3 data-i18n="promo3_title">Atelier gratuit</h3><p data-i18n="promo3_text">Initiez-vous à l’impression 3D le 22 novembre</p></div>
      <div class="carousel-item"><h3 data-i18n="promo4_title">Livraison offerte</h3><p data-i18n="promo4_text">à partir de 60€ d’achat</p></div>
      <div class="carousel-item"><h3 data-i18n="promo1_title">Promo -25%</h3><p data-i18n="promo1_text">sur toute la collection sous-verres jusqu’au 30 novembre</p></div>
      <div class="carousel-item"><h3 data-i18n="promo2_title">Nouveauté</h3><p data-i18n="promo2_text">Pots à fleurs en PLA recyclé & teintes naturelles</p></div>
      <div class="carousel-item"><h3 data-i18n="promo3_title">Atelier gratuit</h3><p data-i18n="promo3_text">Initiez-vous à l’impression 3D le 22 novembre</p></div>
      <div class="carousel-item"><h3 data-i18n="promo4_title">Livraison offerte</h3><p data-i18n="promo4_text">à partir de 60€ d’achat</p></div>
    </div>
  </div>
</main>
<footer data-i18n="footer_text">© 2025 VectorLab — Impression 3D premium & personnalisée</footer>
<script>
/* --- i18n --- */
const translations = {
  en:{
    nav_home:"Home", nav_discover:"Discover", nav_about:"About", nav_contact:"Contact", nav_faq:"FAQ",
    hero_title:"Premium & Custom<br>3D Printing", hero_sub:"Unique objects, crafted with care in France.",
    discover_btn:"Discover the collection",
    presentation_title:"Our Expertise",
    presentation_text:"At VectorLab, every creation is precisely printed and hand-finished. We combine design, durability, and customization to bring your 3D ideas to life.",
    presentation_btn:"Learn More",
    promo1_title:"Sale -25%", promo1_text:"on the entire coaster collection until November 30th",
    promo2_title:"New Arrival", promo2_text:"Flower pots in recycled PLA & natural shades",
    promo3_title:"Free Workshop", promo3_text:"Get started with 3D printing on November 22nd",
    promo4_title:"Free Shipping", promo4_text:"on purchases over 60€",
    footer_text:"© 2025 VectorLab — Premium & custom 3D printing",
    auth_login:"Log In", auth_signin:"Sign Up", auth_profile:"My Profile"
  },
  fr:{
    nav_home:"Accueil", nav_discover:"Découvrir", nav_about:"À propos", nav_contact:"Contact", nav_faq:"FAQ",
    hero_title:"Impression 3D<br>sur mesure & premium", hero_sub:"Objets uniques, fabriqués avec soin en France.",
    discover_btn:"Découvrir la collection",
    presentation_title:"Notre savoir-faire",
    presentation_text:"Chez VectorLab, chaque création est imprimée avec précision et finie à la main. Nous allions design, durabilité et personnalisation pour donner vie à vos idées en 3D.",
    presentation_btn:"En savoir plus",
    promo1_title:"Promo -25%", promo1_text:"sur toute la collection sous-verres jusqu’au 30 novembre",
    promo2_title:"Nouveauté", promo2_text:"Pots à fleurs en PLA recyclé & teintes naturelles",
    promo3_title:"Atelier gratuit", promo3_text:"Initiez-vous à l’impression 3D le 22 novembre",
    promo4_title:"Livraison offerte", promo4_text:"à partir de 60€ d’achat",
    footer_text:"© 2025 VectorLab — Impression 3D premium & personnalisée",
    auth_login:"Se connecter", auth_signin:"S'inscrire", auth_profile:"Mon Profil"
  },
  de:{
    nav_home:"Startseite", nav_discover:"Entdecken", nav_about:"Über uns", nav_contact:"Kontakt", nav_faq:"FAQ",
    hero_title:"Premium & maßgeschneiderter 3D-Druck", hero_sub:"Einzigartige Objekte, mit Sorgfalt in Frankreich hergestellt.",
    discover_btn:"Kollektion entdecken",
    presentation_title:"Unser Know-how",
    presentation_text:"Bei VectorLab wird jede Kreation präzise gedruckt und von Hand veredelt. Wir verbinden Design, Haltbarkeit und Individualisierung, um Ihre 3D-Ideen zum Leben zu erwecken.",
    presentation_btn:"Mehr erfahren",
    promo1_title:"Aktion -25%", promo1_text:"auf die gesamte Untersetzer-Kollektion bis zum 30. November",
    promo2_title:"Neuheit", promo2_text:"Blumentöpfe aus recyceltem PLA & Naturtönen",
    promo3_title:"Kostenloser Workshop", promo3_text:"Einführung in den 3D-Druck am 22. November",
    promo4_title:"Kostenloser Versand", promo4_text:"ab 60€ Einkaufswert",
    footer_text:"© 2025 VectorLab — Premium & maßgeschneiderter 3D-Druck",
    auth_login:"Anmelden", auth_signin:"Registrieren", auth_profile:"Mein Profil"
  }
};
let currentLang = localStorage.getItem('lang') || 'fr';

function applyTranslations(lang){
  currentLang = lang;
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.dataset.i18n;
    el.innerHTML = (translations[lang] && translations[lang][key]) || translations['en'][key];
  });
}

function setLang(lang){
  localStorage.setItem('lang', lang);
  applyTranslations(lang);
}

/* --- Auth Buttons Logic --- */
const loginBtn = document.getElementById('loginBtn');
const signInBtn = document.getElementById('signInBtn');
const profileBtn = document.getElementById('profileBtn');

function updateAuthButtons(isLoggedIn){
  loginBtn.style.display = isLoggedIn ? 'none' : 'block';
  signInBtn.style.display = isLoggedIn ? 'none' : 'block';
  profileBtn.style.display = isLoggedIn ? 'block' : 'none';
}

// REDIRECT to Auth pages
loginBtn.addEventListener('click', () => {
  window.location.href = 'login.html';
});

signInBtn.addEventListener('click', () => {
  window.location.href = 'signin.html';
});

profileBtn.addEventListener('click', () => {
  alert('Affichage du profil... Pour simuler la déconnexion, vous pouvez taper : localStorage.removeItem("isLoggedIn") dans la console.');
});

if (localStorage.getItem('isLoggedIn') === 'true') {
  updateAuthButtons(true);
} else {
  updateAuthButtons(false);
}

/* --- Lang Switch Logic --- */
const langBtn = document.getElementById('langBtn');
const dropdown = document.getElementById('langDropdown');

/* toggle circles and dropdown */
langBtn.addEventListener('click', e=>{
  const open = langBtn.classList.toggle('open');
  dropdown.classList.toggle('show', open);
  dropdown.setAttribute('aria-hidden', String(!open));
});

/* click on languages */
dropdown.querySelectorAll('div').forEach(el=>{
  el.addEventListener('click', ()=>{
    const lang = el.dataset.lang;
    setLang(lang);
    dropdown.classList.remove('show');
    langBtn.classList.remove('open');
  });
});

/* auto detect country -> language
   using ipapi.co (no key required for basic info)
*/
async function autoDetectLang(){
  try{
    const res = await fetch('https://ipapi.co/json/');
    if(!res.ok) throw new Error('no geo');
    const data = await res.json();
    const country = (data.country_code || '').toUpperCase();
    let lang = 'fr';
    if(country === 'DE' || country === 'CH') lang = 'de';
    else if(country !== 'FR') lang = 'en';
    setLang(lang);
  }catch(e){
    setLang('fr');
  }
}

/* priority: saved choice */
const saved = localStorage.getItem('lang');
if(saved) setLang(saved);
else autoDetectLang();

/* header scroll effect + presentation observe */
window.addEventListener('scroll', ()=>document.getElementById('mainHeader').classList.toggle('scrolled', window.scrollY>10));

const presentation = document.getElementById('presentation');
const observer = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      entry.target.classList.add('active');
      observer.unobserve(entry.target);
    }
  });
}, {threshold: 0.1});
observer.observe(presentation);
</script>
</body>
</html>