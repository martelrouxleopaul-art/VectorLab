<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VectorLab - Impression 3D Premium</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#FFFCF8; --card:#FFF8F3; --text:#2D2D2D; --text-light:#666666;
  --accent:#FFD8BE; --accent-hover:#FF9D87;
  --transition-speed: 0.3s;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}

/* header */
header{position:sticky;top:0;z-index:1000;background:var(--bg);padding:18px 6%;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #ffe8db;transition:box-shadow var(--transition-speed),background var(--transition-speed)}
header.scrolled{box-shadow:0 6px 24px rgba(0,0,0,.06);background:#fff}

/* Logo & Glitch Effect */
.logo{font-weight:700;font-size:34px;text-decoration:none;color:var(--text);display:inline-block;cursor:pointer;transition:transform 0.1s}
.logo:hover{animation:logo-glitch 0.2s steps(2, jump-none) infinite;transform:scale(1.02)}
@keyframes logo-glitch {
  0% { transform: translate(1px, 1px); filter: brightness(1.1) contrast(1.1); }
  50% { transform: translate(-1px, -1px); filter: brightness(0.9) contrast(0.9); }
  100% { transform: translate(1px, 1px); filter: brightness(1.1) contrast(1.1); }
}

/* Nav */
nav a{margin-left:30px;text-decoration:none;color:var(--text);font-weight:500;position:relative;transition:color var(--transition-speed)}
nav a:hover{color:var(--text-light)}
nav a::after{content:'';position:absolute;left:0;bottom:-5px;width:100%;height:2px;background:var(--accent-hover);transform:scaleX(0);transition:transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)}
nav a.active::after, nav a:hover::after{transform:scaleX(1)}

/* Header Actions */
.header-actions{display:flex;align-items:center;gap:20px;position:relative;right:0}
.auth-btn{padding:8px 16px;border-radius:30px;font-weight:600;cursor:pointer;border:none;transition:background-color var(--transition-speed)}
.auth-btn.primary{background:var(--accent);color:var(--text)}
.auth-btn.primary:hover{background:var(--accent-hover)}

/* Language Switch Dropdown */
.lang-switch{position:relative}
.lang-switch button{background:none;border:none;font-size:16px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color var(--transition-speed)}
.lang-switch button.open{background:var(--accent)}
.lang-dropdown{position:absolute;top:100%;right:0;margin-top:5px;background:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);overflow:hidden;z-index:10;opacity:0;visibility:hidden;transform:translateY(-10px);transition:opacity var(--transition-speed),transform var(--transition-speed),visibility var(--transition-speed)}
.lang-dropdown.show{opacity:1;visibility:visible;transform:translateY(0)}
.lang-dropdown div{padding:10px 15px;cursor:pointer;transition:background-color var(--transition-speed)}
.lang-dropdown div:hover{background:var(--accent)}
.lang-dropdown div.active{font-weight:700;background:var(--accent)}

/* Hero Section & Text Reveal Effect */
.hero{padding:120px 6%;text-align:center;max-width:900px;margin:0 auto}
#heroText{overflow:hidden} /* Conteneur pour le masquage */
#heroText h1{font-size:48px;font-weight:700;line-height:1.2;margin-bottom:20px;
    /* Effet d'apparition par clip-path */
    clip-path: inset(0 100% 0 0); 
    animation: text-reveal 1.2s cubic-bezier(0.7, 0, 0.3, 1) forwards;
    animation-delay: 0.3s;
    will-change: clip-path;
}
@keyframes text-reveal {
  to { clip-path: inset(0 0 0 0); } /* Révèle tout le texte */
}
.hero p{font-size:1.1em;color:var(--text-light);margin-bottom:40px}

/* CTA Buttons & Liquid Border Effect */
.hero-actions{display:flex;justify-content:center;gap:20px}
.cta-button{
    padding:12px 28px;border-radius:30px;font-weight:600;cursor:pointer;text-decoration:none;
    position: relative;
    overflow: hidden; /* Cache le pseudo-élément au repos */
    z-index: 1; /* S'assurer que le texte est au-dessus du pseudo-élément */
    transition: color 0.3s ease-out;
    display: inline-block;
    border: 2px solid var(--accent);
}
.cta-button.primary{background:var(--accent);color:var(--text);border:none}
.cta-button.secondary{background:transparent;color:var(--text);border-color:var(--text)}

/* Pseudo-élément pour l'effet liquide */
.cta-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--accent-hover);
  z-index: -1;
  transform: translateX(-100%);
  transition: transform 0.4s cubic-bezier(0.8, 0, 0.2, 1); /* Courbe d'accélération 'liquide' */
}
.cta-button:hover::before {
  transform: translateX(0);
}
.cta-button.primary:hover{color:var(--bg)} /* Le texte devient clair au survol */
.cta-button.secondary:hover{color:var(--bg)} /* Le texte devient clair au survol */
.cta-button.secondary::before{background:var(--text)} /* Fond noir pour le bouton secondaire */


/* Presentation Section */
.presentation{padding:80px 6%;text-align:center}
.presentation h2{font-size:36px;margin-bottom:20px}
.presentation p{max-width:800px;margin:0 auto 40px;color:var(--text-light)}
.features{display:flex;justify-content:center;gap:30px;flex-wrap:wrap}
.feature-card{background:var(--card);padding:30px;border-radius:12px;width:calc(33.333% - 20px);box-shadow:0 4px 15px rgba(0,0,0,.05);transition:transform var(--transition-speed),box-shadow var(--transition-speed)}
.feature-card:hover{transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,.1)}
.feature-card h3{margin-bottom:15px;color:var(--accent-hover)}
.feature-card p{color:var(--text-light);font-size:.95em}

/* Upload Section */
.upload{background:#f9f9f9;padding:80px 6%;text-align:center;margin-top:40px}
.upload h2{font-size:36px;margin-bottom:20px}
.upload p{max-width:800px;margin:0 auto 30px;color:var(--text-light)}
.upload-form{background:#fff;padding:40px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);max-width:600px;margin:0 auto}
.file-input-container{border:2px dashed var(--accent);padding:30px;border-radius:8px;cursor:pointer;transition:border-color var(--transition-speed)}
.file-input-container:hover{border-color:var(--accent-hover)}
.file-input-container p{margin:0;color:var(--text-light)}
input[type="file"]{display:none}
.upload .cta-button{margin-top:20px;width:100%;border:none}
.upload .cta-button.primary{background:var(--accent)}


/* Footer */
footer{background:var(--text);color:#fff;padding:40px 6%;text-align:center}
footer nav a{color:#fff;margin:0 15px;font-size:.9em}
footer p{margin-top:20px;font-size:.8em;color:#aaa}

/* Responsive */
@media(max-width:900px){.hero h1{font-size:38px}.feature-card{width:calc(50% - 15px)}}
@media(max-width:600px){header{padding:15px 4%}.logo{font-size:28px}nav{display:none}.hero{padding:80px 4%}.hero h1{font-size:32px}.hero-actions{flex-direction:column;gap:15px}.feature-card{width:100%}}
</style>
</head>
<body>

<header id="mainHeader">
  <a href="index.html" class="logo">VectorLab</a>
  <nav>
    <a href="index.html" class="active">Accueil</a>
    <a href="discover.html">Découvrir</a>
    <a href="about.html">À Propos</a>
    <a href="faq.html">FAQ</a>
    <a href="contact.html">Contact</a>
  </nav>
  <div class="header-actions">
    <button id="loginBtn" class="auth-btn secondary">Connexion</button>
    <button id="signInBtn" class="auth-btn primary">Inscription</button>
    <button id="profileBtn" class="auth-btn secondary" style="display:none;">Profil</button>
    <div class="lang-switch">
      <button id="langBtn1" aria-expanded="false" aria-controls="langDropdown1">FR</button>
      <div id="langDropdown1" class="lang-dropdown" aria-hidden="true">
        <div data-lang="fr">Français</div>
        <div data-lang="en">English</div>
        <div data-lang="de">Deutsch</div>
      </div>
    </div>
  </div>
</header>

<main>
  <section id="hero" class="hero">
    <div id="heroText">
      <h1>Votre Studio d'Impression 3D <br>Designer et Innovant</h1>
    </div>
    <p>De l'objet déco unique au prototype technique, réalisez votre vision.</p>
    <div class="hero-actions">
      <a href="discover.html" class="cta-button primary">Découvrir la Galerie</a>
      <a href="#upload" class="cta-button secondary">Uploader Mon Modèle</a>
    </div>
  </section>

  <section id="presentation" class="presentation">
    <h2>Pourquoi choisir VectorLab ?</h2>
    <p>Nous combinons expertise technique, matériaux premium et design soigné pour donner vie à vos projets les plus ambitieux.</p>
    <div class="features">
      <div class="feature-card">
        <h3>Haute Précision</h3>
        <p>Impression FDM et SLA de pointe pour des détails incroyablement fins et des finitions parfaites.</p>
      </div>
      <div class="feature-card">
        <h3>Matériaux Écologiques</h3>
        <p>Utilisation prioritaire de filaments recyclés et biosourcés (rPETG, PLA Éco).</p>
      </div>
      <div class="feature-card">
        <h3>Service Client Dédié</h3>
        <p>Notre équipe d'experts vous accompagne de la conception à la réalisation finale.</p>
      </div>
    </div>
  </section>

  <section id="upload" class="upload">
    <h2>Lancez Votre Projet 3D</h2>
    <p>Uploadez votre fichier STL ou OBJ et obtenez une estimation gratuite en quelques clics. C'est rapide, simple et sans engagement.</p>
    <form id="uploadForm" class="upload-form">
      <input type="hidden" name="action" value="upload_file">
      <label for="fileUpload" class="file-input-container">
        <input type="file" id="fileUpload" name="modelFile" accept=".stl,.obj" required>
        <p>Cliquez ou glissez-déposez votre fichier 3D (STL, OBJ)</p>
      </label>
      <button type="submit" class="cta-button primary">Analyser le Modèle</button>
    </form>
  </section>

</main>

<footer>
  <nav>
    <a href="about.html">À Propos</a>
    <a href="faq.html">FAQ</a>
    <a href="contact.html">Contact</a>
    <a href="#">Mentions Légales</a>
  </nav>
  <p>&copy; 2025 VectorLab. Tous droits réservés.</p>
</footer>

<script>
/* --- Lang Switch Logic (ajouté pour le bon fonctionnement) --- */
const translations = {
  fr: { btn_login: 'Connexion', btn_signin: 'Inscription', btn_profile: 'Profil', lang_code: 'FR', lang_fr: 'Français', lang_en: 'English', lang_de: 'Deutsch' },
  en: { btn_login: 'Login', btn_signin: 'Sign Up', btn_profile: 'Profile', lang_code: 'EN', lang_fr: 'French', lang_en: 'English', lang_de: 'German' },
  de: { btn_login: 'Anmelden', btn_signin: 'Registrieren', btn_profile: 'Profil', lang_code: 'DE', lang_fr: 'Französisch', lang_en: 'Englisch', lang_de: 'Deutsch' },
};

function setLang(lang) {
  const t = translations[lang];
  document.documentElement.lang = lang;
  localStorage.setItem('lang', lang);

  // Update Buttons
  document.getElementById('loginBtn').textContent = t.btn_login;
  document.getElementById('signInBtn').textContent = t.btn_signin;
  document.getElementById('profileBtn').textContent = t.btn_profile;

  // Update Lang Switch
  const langBtn = document.getElementById('langBtn1');
  langBtn.textContent = t.lang_code;
  
  const dropdown = document.getElementById('langDropdown1');
  dropdown.querySelector('div[data-lang="fr"]').textContent = t.lang_fr;
  dropdown.querySelector('div[data-lang="en"]').textContent = t.lang_en;
  dropdown.querySelector('div[data-lang="de"]').textContent = t.lang_de;

  dropdown.querySelectorAll('div').forEach(el => {
    el.classList.remove('active');
    if (el.dataset.lang === lang) el.classList.add('active');
  });
}

/* --- Authentication Logic --- */
const loginBtn = document.getElementById('loginBtn');
const signInBtn = document.getElementById('signInBtn');
const profileBtn = document.getElementById('profileBtn');

function updateAuthButtons(isLoggedIn) {
  loginBtn.style.display = isLoggedIn ? 'none' : 'block';
  signInBtn.style.display = isLoggedIn ? 'none' : 'block';
  profileBtn.style.display = isLoggedIn ? 'block' : 'none';
}

loginBtn.addEventListener('click', () => { window.location.href = 'login.html'; });
signInBtn.addEventListener('click', () => { window.location.href = 'signin.html'; });
profileBtn.addEventListener('click', () => { alert('Affichage du profil. Déconnexion simulée : localStorage.removeItem("isLoggedIn")'); });

if (localStorage.getItem('isLoggedIn') === 'true') {
  updateAuthButtons(true);
} else {
  updateAuthButtons(false);
}

/* --- Lang Switch Toggle --- */
const langBtn = document.getElementById('langBtn1');
const dropdown = document.getElementById('langDropdown1');

langBtn.addEventListener('click', e=>{
  const open = langBtn.classList.toggle('open');
  dropdown.classList.toggle('show', open);
  dropdown.setAttribute('aria-hidden', String(!open));
});

dropdown.querySelectorAll('div').forEach(el=>{
  el.addEventListener('click', ()=>{
    const lang = el.dataset.lang;
    setLang(lang);
    dropdown.classList.remove('show');
    langBtn.classList.remove('open');
  });
});

/* --- Auto-Detect Language (priorité: saved choice) --- */
async function autoDetectLang(){
  try{
    const res = await fetch('https://ipapi.co/json/');
    if(!res.ok) throw new Error('no geo');
    const data = await res.json();
    const country = (data.country_code || '').toUpperCase();
    let lang = 'fr';
    if(country === 'DE' || country === 'CH') lang = 'de';
    else if(country !== 'FR') lang = 'en';
    setLang(lang);
  }catch(e){
    setLang('fr');
  }
}
const saved = localStorage.getItem('lang');
if(saved) setLang(saved);
else autoDetectLang();

/* --- Header Scroll Effect --- */
window.addEventListener('scroll', ()=>document.getElementById('mainHeader').classList.toggle('scrolled', window.scrollY > 50));
</script>
</body>
</html>